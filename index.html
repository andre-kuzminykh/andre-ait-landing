<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI FOR HUMAN GOOD</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --brand-purple: #8854F3;
            --brand-orange: #F78F55;
            --brand-purple-rgb: 136, 84, 243;
            --brand-orange-rgb: 247, 143, 85;
        }
        /* FIX 2: Added -webkit-overflow-scrolling: touch for smoother scrolling on iOS */
        body {
            font-family: 'JetBrains Mono', monospace;
            background-color: #0a0a0a;
            color: #E5E7EB;
            height: 300vh;
            -webkit-overflow-scrolling: touch;
        }
        
        #page-container {
            position: sticky;
            top: 0;
            height: 100vh;
            width: 100%;
            overflow: hidden;
        }

        #content-wrapper {
            position: relative;
            height: 100%;
            width: 100%;
        }

        .content-section {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            z-index: 1;
            transition: opacity 0.8s ease-in-out;
            padding: 1rem;
        }

        .content-section.is-visible {
            opacity: 1;
            z-index: 2;
        }

        /* FIX 1: Added will-change and transform: translateZ(0) to promote the blobs to a new layer, fixing visibility on some mobile browsers like Safari. */
        .blob {
            position: fixed;
            z-index: -1;
            border-radius: 9999px;
            filter: blur(80px);
            opacity: 0.7;
            transform: scale(1) translateZ(0); /* Using translateZ to create a new stacking context */
            transition: opacity 0.4s ease;
            will-change: transform, opacity; /* Performance hint for the browser */
        }
        
        .blob-purple { background-color: var(--brand-purple); }
        .blob-orange { background-color: var(--brand-orange); }
        
        .author-photo-container {
            position: relative;
            z-index: 10;
        }

        .speech-bubble {
            background-color: #111113;
            border: 1px solid #333;
            position: relative;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
        }
        
        .speech-bubble::before {
            content: '';
            position: absolute;
            top: -1rem; 
            left: 50%;
            transform: translateX(-50%);
            width: 0; height: 0;
            border-left: 1rem solid transparent;
            border-right: 1rem solid transparent;
            border-bottom: 1rem solid #111113;
            filter: drop-shadow(0px -1px 0px #333);
        }
        
        @media (min-width: 768px) {
            .speech-bubble::before {
                top: 3rem; left: -1rem;
                transform: translateY(-50%);
                border-left: 0; border-right: 1rem solid #111113;
                border-top: 1rem solid transparent;
                border-bottom: 1rem solid transparent;
                filter: drop-shadow(-1px 0px 0px #333);
            }
        }
        
        .logo-link { transition: opacity 0.3s ease, transform 0.3s ease; }
        .logo-link:hover { opacity: 0.85; transform: scale(1.05); }

        .cta-button {
            position: relative;
            background: transparent;
            transition: transform 0.2s ease-out, box-shadow 0.2s ease-out, color 0.5s ease, background-image 0.5s ease;
            z-index: 1;
        }
        .cta-button::before {
            content: '';
            position: absolute;
            inset: 0;
            z-index: -1;
            border-radius: 9999px; /* Tailwind's rounded-full */
            padding: 2px; /* Border thickness */
            background: linear-gradient(to right, var(--brand-purple), var(--brand-orange));
            -webkit-mask:
                linear-gradient(#fff 0 0) content-box,
                linear-gradient(#fff 0 0);
            -webkit-mask-composite: xor;
                    mask-composite: exclude;
            transition: opacity 0.5s ease;
            opacity: 1;
        }
        .cta-button:hover {
            background-image: linear-gradient(to right, var(--brand-purple), var(--brand-orange), var(--brand-purple));
            background-size: 200% auto;
            background-position: left center;
            transform: translateY(2px);
            box-shadow: 0px 5px 15px rgba(var(--brand-orange-rgb), 0.2), 0px 5px 15px rgba(var(--brand-purple-rgb), 0.2);
            color: white;
        }
        .cta-button:hover::before {
            opacity: 0;
        }

        .cta-button > * { position: relative; z-index: 1; }
        .cta-button svg { transition: transform 0.3s ease; }
        .cta-button:hover svg { transform: scale(1.1); }
        .nav-link { position: relative; transition: color 0.3s ease; }
        .nav-link::after { content: ''; position: absolute; width: 0; height: 2px; bottom: -4px; left: 50%; transform: translateX(-50%); background-color: var(--brand-purple); transition: width 0.3s ease; }
        .nav-link:hover { color: #FFFFFF; }
        .nav-link:hover::after { width: 100%; }
        .mobile-menu { transition: transform 0.3s ease-in-out; }
        .main-cta-button { background-color: white; color: #0a0a0a; transition: color 0.4s ease-in-out, transform 0.4s ease-in-out, box-shadow 0.4s ease-in-out, background-image 0.4s ease-in-out; transform: scale(1); }
        .main-cta-button:hover { background-image: linear-gradient(to right, var(--brand-orange), var(--brand-purple), var(--brand-orange)); color: white; transform: scale(1.05); box-shadow: 0 10px 25px -5px rgba(var(--brand-orange-rgb), 0.4), 0 8px 10px -6px rgba(var(--brand-purple-rgb), 0.4); background-size: 200% auto; animation: gradient-flow 4s linear infinite; }
        .cv-button { background-color: white; color: #0a0a0a; transition: color 0.4s ease-in-out, transform 0.4s ease-in-out, box-shadow 0.4s ease-in-out, background-image 0.4s ease-in-out; transform: scale(1); }
        .cv-button:hover { background-image: linear-gradient(to right, var(--brand-orange), var(--brand-purple), var(--brand-orange)); color: white; transform: scale(1.05); box-shadow: 0 10px 25px -5px rgba(var(--brand-orange-rgb), 0.4), 0 8px 10px -6px rgba(var(--brand-purple-rgb), 0.4); background-size: 200% auto; animation: gradient-flow 4s linear infinite; }
        @keyframes gradient-flow { 0% { background-position: 0% center; } 100% { background-position: 200% center; } }
        
        /* PERFORMANCE FIX: The animated grain effect was causing major slowdowns on mobile devices. */
        /* It is now disabled on screens smaller than 768px to ensure a smooth experience. */
        body::after {
            content: "";
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            z-index: 0;
            pointer-events: none;
            background-image: url('data:image/svg+xml,<svg viewBox="0 0 256 256" xmlns="http://www.w3.org/2000/svg"><filter id="a"><feTurbulence baseFrequency="0.65" numOctaves="4" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23a)"/></svg>');
            background-size: 256px 256px;
            opacity: 0.08;
            /* Promotes the element to its own layer for better static compositing performance. */
            transform: translateZ(0); 
        }

        /* The expensive grain animation is now enabled only on larger screens. */
        @media (min-width: 768px) {
            body::after {
                will-change: transform; /* Performance hint for animation */
                animation: grain-animation 8s alternate linear infinite;
            }
        }

        /* The keyframe animation for the grain effect. */
        @keyframes grain-animation {
            0%   { transform: translate(0, 0); }
            25%  { transform: translate(-3px, 4px); }
            50%  { transform: translate(4px, -3px); }
            75%  { transform: translate(-2px, -2px); }
            100% { transform: translate(0, 0); }
        }
    </style>
</head>
<body class="antialiased">
    <div id="page-container">
        <div id="blob1" class="blob blob-purple w-80 h-80 md:w-96 md:h-96 lg:w-[32rem] lg:h-[32rem] xl:w-[40rem] xl:h-[40rem]"></div>
        <div id="blob2" class="blob blob-orange w-80 h-80 md:w-96 md:h-96 lg:w-[32rem] lg:h-[32rem] xl:w-[40rem] xl:h-[40rem]"></div>

        <!-- FIX: Header background is now black -->
        <header class="absolute top-0 w-full z-20 py-1 px-4 sm:px-6 lg:px-8 bg-[#0a0a0a]">
            <div class="container mx-auto flex justify-between items-center">
                <a href="#" class="logo-link flex-shrink-0"><img src="https://i.ibb.co/gn7SmgY/866f2500-dd81-4d09-8c0f-2b55c25a3464-removalai-preview.png" alt="AIT Logo" class="h-16 lg:h-20 w-auto"></a>
                <nav class="hidden md:flex items-center md:text-xs lg:text-sm xl:text-base space-x-4 md:space-x-6 lg:space-x-10">
                    <a href="#" class="nav-link text-center lg:whitespace-nowrap"><div class="hidden lg:block">AI Super Agent</div><div class="lg:hidden"><span class="block">AI</span><span class="block leading-tight">Super Agent</span></div></a>
                    <a href="#" class="nav-link text-center lg:whitespace-nowrap"><div class="hidden lg:block">AI Employees</div><div class="lg:hidden"><span class="block">AI</span><span class="block leading-tight">Employees</span></div></a>
                    <a href="#" class="nav-link text-center lg:whitespace-nowrap"><div class="hidden lg:block">AI Companies</div><div class="lg:hidden"><span class="block">AI</span><span class="block leading-tight">Companies</span></div></a>
                    <a href="#" class="nav-link text-center lg:whitespace-nowrap"><div class="hidden lg:block">AI Startup Studio</div><div class="lg:hidden"><span class="block">AI</span><span class="block leading-tight">Startup Studio</span></div></a>
                    <a href="#" class="nav-link text-center"><div class="hidden lg:block">Blog</div><div class="lg:hidden"><span class="block invisible">AI</span><span class="block leading-tight">Blog</span></div></a>
                </nav>
                <a href="#" class="hidden md:flex items-center justify-center cta-button text-white font-medium py-3 md:px-3 lg:px-5 xl:px-7 rounded-full md:text-xs lg:text-sm xl:text-base">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 flex-shrink-0" fill="none" viewBox="0-0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>
                    <div><span class="block leading-tight whitespace-nowrap">AI Solutions</span></div>
                </a>
                <button id="menu-btn" class="md:hidden focus:outline-none z-30"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg></button>
            </div>
            <div id="mobile-menu" class="mobile-menu md:hidden fixed top-0 right-0 h-full w-full bg-[#0a0a0a] transform translate-x-full z-20 p-8">
                <!-- FIX 7: Added logo to the top-left of the mobile menu -->
                <a href="#" class="logo-link absolute top-1 left-4 sm:left-6">
                    <img src="https://i.ibb.co/gn7SmgY/866f2500-dd81-4d09-8c0f-2b55c25a3464-removalai-preview.png" alt="AIT Logo" class="h-16 w-auto">
                </a>
                <nav class="flex flex-col h-full justify-center items-center space-y-8 text-lg">
                    <a href="#" class="nav-link text-center">AI Super Agent</a><a href="#" class="nav-link text-center">AI Employees</a><a href="#" class="nav-link text-center">AI Companies</a><a href="#" class="nav-link text-center">AI Startup Studio</a><a href="#" class="nav-link text-center">Blog</a>
                    <!-- FIX 5: Increased button height to match the main hero button -->
                    <a href="#" class="main-cta-button flex items-center justify-center font-bold py-4 px-6 sm:py-5 sm:px-8 rounded-full mt-12 text-base sm:text-lg lg:text-xl"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>Discover AI Solutions</a>
                </nav>
            </div>
        </header>
        
        <div id="content-wrapper">
             <section id="hero-section" class="content-section">
                 <div class="container mx-auto max-w-4xl text-center">
                     <h1 class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl xl:text-8xl font-bold text-white leading-tight xl:whitespace-nowrap"><span style="color: var(--brand-purple);">AI</span> FOR <span style="color: var(--brand-orange);">HUMAN</span> GOOD</h1>
                     <!-- FIX 8: Added font-bold to match the button's font weight -->
                     <!-- FIX 3: Replaced class with inline style for font-weight consistency -->
                     <p class="mt-6 text-base sm:text-lg md:text-xl lg:text-2xl text-white max-w-3xl mx-auto" style="font-weight: 700;">AI ecosystem for making AI<br>a trusted business & personal assistant</p>
                     <!-- FIX 4: Increased vertical padding to make the button taller -->
                     <a href="#" class="main-cta-button inline-flex items-center justify-center font-bold py-4 px-6 sm:py-5 sm:px-8 rounded-full mt-12 text-base sm:text-lg lg:text-xl"><svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 mr-3" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>Discover AI Solutions</a>
                 </div>
             </section>

             <section id="about-section" class="content-section">
                 <div class="container mx-auto max-w-7xl flex flex-col md:flex-row items-center justify-center gap-8 lg:gap-16">
                     <div class="flex-shrink-0">
                         <div class="author-photo-container w-48 h-48 lg:w-56 lg:h-56 rounded-full inline-block">
                             <!-- FIX: Corrected GIF URL -->
                             <img src="https://i.ibb.co/G3MdKgx1/High-Performance-bli.gif" alt="Andre, founder of Andre AI Technologies" class="w-full h-full object-cover rounded-full">
                         </div>
                     </div>
                     <div class="speech-bubble mt-4 md:mt-0 w-full max-w-2xl rounded-2xl p-6 lg:p-8 flex flex-col">
                         <p id="about-text" class="text-white text-sm md:text-base lg:text-lg leading-relaxed">Hi, I‚Äôm Andre, founder of Andre AI Technologies.<br>I have 10+ years of experience in AI transformation of global tech companies and launching AI startups.<br>I focus on AI research, building AI products for businesses and individuals, training people for emerging professions, driving harmony between AI and humans, and shaping a new economy where AI is the core of the modern operational model.</p>
                         <a href="#" class="cv-button inline-flex items-center justify-center font-bold py-2 px-5 rounded-full mt-6 text-base self-end">
                              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5 mr-2"><path fill-rule="evenodd" d="M5.625 1.5c-1.036 0-1.875.84-1.875 1.875v17.25c0 1.035.84 1.875 1.875 1.875h12.75c1.035 0 1.875-.84 1.875-1.875V12.75A3.75 3.75 0 0 0 16.5 9h-1.875a.375.375 0 0 1-.375-.375V6.75A3.75 3.75 0 0 0 10.5 3h-1.875A.375.375 0 0 1 8.25 2.625V1.5H5.625ZM7.5 15a.75.75 0 0 1 .75-.75h7.5a.75.75 0 0 1 0 1.5h-7.5A.75.75 0 0 1 7.5 15Zm.75 2.25a.75.75 0 0 0 0 1.5H12a.75.75 0 0 0 0-1.5H8.25Z" clip-rule="evenodd" /><path d="M12.971 1.816A5.23 5.23 0 0 1 15.75 1.5h1.875c.414 0 .75.336.75.75v4.5c0 .414-.336.75-.75.75h-1.875a5.23 5.23 0 0 1-2.779-.316Z" /></svg>
                             CV
                         </a>
                     </div>
                 </div>
             </section>

             <section id="dataism-section" class="content-section">
                 <!-- FIX: Reverted to vertical centering on desktop and enabled conditional scrolling with padding on mobile -->
                 <div class="container mx-auto max-w-7xl xl:max-w-screen-xl text-center flex flex-col items-center px-4 pt-24 pb-8 md:p-0 h-full overflow-y-auto md:h-auto md:overflow-visible md:justify-center">
                     <div class="flex flex-col items-center justify-center">
                         <div class="flex flex-col text-center">
                             <h2 class="text-4xl sm:text-5xl font-bold text-white leading-tight">
                                 Dataism Science Hub
                             </h2>
                             <p class="text-xl md:text-2xl text-white mt-2">Open Applied AI Community</p>
                         </div>
                     </div>

                     <div class="mt-12 lg:mt-16 grid grid-cols-1 md:grid-cols-3 gap-8 w-full">
                         <!-- FIX: Adjusted card width for mobile and ensured content dictates height -->
                         <div class="dataism-card bg-[#111113] border border-[#333] rounded-2xl p-6 lg:p-8 flex flex-col justify-between text-center shadow-lg transform hover:scale-105 transition-transform duration-300 max-w-xs mx-auto w-full md:max-w-none md:mx-0">
                             <div class="flex-grow">
                                 <h3 class="text-2xl font-bold text-white">üî¨ AI Laboratory</h3>
                                 <p class="mt-3 text-gray-400">Research & Development<br>of Applied AI Solutions</p>
                             </div>
                             <!-- FIX: Added fixed width to ensure all buttons are the same size -->
                             <a href="#" class="cv-button self-center inline-flex items-center justify-center font-bold py-3 px-6 rounded-full mt-6 text-sm w-48">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25" /></svg>
                                 <span class="whitespace-nowrap">Visit AI Lab</span>
                             </a>
                         </div>
                         <!-- FIX: Adjusted card width for mobile and ensured content dictates height -->
                         <div class="dataism-card bg-[#111113] border border-[#333] rounded-2xl p-6 lg:p-8 flex flex-col justify-between text-center shadow-lg transform hover:scale-105 transition-transform duration-300 max-w-xs mx-auto w-full md:max-w-none md:mx-0">
                           <div class="flex-grow">
                                 <h3 class="text-2xl font-bold text-white">üéì AI Academy</h3>
                                 <p class="mt-3 text-gray-400">Educational programs<br>for AI Professionals</p>
                           </div>
                             <!-- FIX: Added fixed width to ensure all buttons are the same size -->
                             <a href="#" class="cv-button self-center inline-flex items-center justify-center font-bold py-3 px-6 rounded-full mt-6 text-sm w-48">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25" /></svg>
                                 <span class="whitespace-nowrap">Visit AI Academy</span>
                             </a>
                         </div>
                         <!-- FIX: Adjusted card width for mobile and ensured content dictates height -->
                         <div class="dataism-card bg-[#111113] border border-[#333] rounded-2xl p-6 lg:p-8 flex flex-col justify-between text-center shadow-lg transform hover:scale-105 transition-transform duration-300 max-w-xs mx-auto w-full md:max-w-none md:mx-0">
                             <div class="flex-grow">
                                  <h3 class="text-2xl font-bold text-white">üåç Datapedia</h3>
                                  <p class="mt-3 text-gray-400">Interactive Encyclopedia<br>of AI Simulations</p>
                             </div>
                             <!-- FIX: Added fixed width to ensure all buttons are the same size -->
                             <a href="#" class="cv-button self-center inline-flex items-center justify-center font-bold py-3 px-6 rounded-full mt-6 text-sm w-48">
                                 <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2" fill="none" viewBox="0 0 24 24" stroke-width="2.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="m4.5 19.5 15-15m0 0H8.25m11.25 0v11.25" /></svg>
                                 <span class="whitespace-nowrap">Visit Datapedia</span>
                             </a>
                         </div>
                     </div>
                 </div>
             </section>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const menuBtn = document.getElementById('menu-btn');
            const mobileMenu = document.getElementById('mobile-menu');
            menuBtn.addEventListener('click', () => {
                mobileMenu.classList.toggle('translate-x-full');
                menuBtn.innerHTML = mobileMenu.classList.contains('translate-x-full') ? `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7" /></svg>` : `<svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" /></svg>`;
            });

            const sections = document.querySelectorAll('.content-section');
            const authorPhoto = document.querySelector('.author-photo-container');
            const blob1 = document.getElementById('blob1');
            const blob2 = document.getElementById('blob2');
            let isOrbiting = false;
            let angle = 0; 
            let wanderTime = 0; 
            let currentSectionIndex = -1;
            let cardTarget = null; // Will store the element of the hovered card
            
            let blob1State = { x: window.innerWidth * 0.45, y: window.innerHeight * 0.4, scale: 1.0 };
            let blob2State = { x: window.innerWidth * 0.55, y: window.innerHeight * 0.5, scale: 1.0 };
            
            const allCtaButtons = document.querySelectorAll('.main-cta-button, .cv-button, .cta-button');
            allCtaButtons.forEach(button => {
                button.addEventListener('mouseenter', () => {
                    blob1.style.opacity = '0';
                    blob2.style.opacity = '0';
                });
                button.addEventListener('mouseleave', () => {
                    blob1.style.opacity = '0.7';
                    blob2.style.opacity = '0.7';
                });
            });

            const dataismCards = document.querySelectorAll('.dataism-card');
            dataismCards.forEach(card => {
                card.addEventListener('mouseenter', () => {
                    if (currentSectionIndex === 2) {
                        cardTarget = card;
                    }
                });
                card.addEventListener('mouseleave', () => {
                    cardTarget = null;
                });
            });

            const typewriterInstances = {};

            const setupTypewriter = (element) => { 
                if (!element) return;
                const elementId = element.id || element.parentElement.id;
                
                let textNodes = [];
                element.childNodes.forEach(node => {
                    if (node.nodeType === Node.TEXT_NODE) textNodes.push(...node.textContent.trim().split(''));
                    else if (node.tagName === 'BR') textNodes.push('<br>');
                });
                
                let isTyping = false;
                const originalHTML = element.innerHTML;
                let timeoutId = null;

                const startTyping = () => {
                    clearTimeout(timeoutId); 
                    if (isTyping) return;
                    isTyping = true;
                    element.innerHTML = '';
                    let charIndex = 0;
                    const type = () => {
                        if (charIndex < textNodes.length) {
                            let currentHTML = element.innerHTML.replace(/<span class="typewriter-cursor">.<\/span>/g, '');
                            const char = textNodes[charIndex];
                            element.innerHTML = currentHTML + (char === '<br>' ? '<br>' : char) + '<span class="typewriter-cursor">|</span>';
                            charIndex++;
                            timeoutId = setTimeout(type, 45);
                        } else {
                            element.querySelector('.typewriter-cursor')?.remove();
                            isTyping = false;
                        }
                    };
                    type();
                };

                const reset = () => {
                    clearTimeout(timeoutId);
                    isTyping = false;
                    element.innerHTML = originalHTML;
                }

                typewriterInstances[elementId] = { start: startTyping, reset: reset };
            };

            setupTypewriter(document.querySelector('#hero-section p'));
            setupTypewriter(document.getElementById('about-text'));
            
            function handleScroll() {
                const scrollPosition = window.scrollY;
                const screenHeight = window.innerHeight;
                const newSectionIndex = Math.min(Math.floor(scrollPosition / screenHeight), sections.length - 1);
                
                if (newSectionIndex !== currentSectionIndex) {
                    currentSectionIndex = newSectionIndex;
                    
                    sections.forEach((section, index) => {
                        const typewriterId = section.querySelector('p')?.id || section.id;
                        const instance = typewriterInstances[typewriterId];

                        if (index === currentSectionIndex) {
                            section.classList.add('is-visible');
                             if(instance) {
                                 instance.start();
                             }
                        } else {
                            section.classList.remove('is-visible');
                            if(instance) {
                                 instance.reset();
                            }
                        }
                    });

                    isOrbiting = (currentSectionIndex === 1);
                }
            }

            function animate() {
                let targetX1, targetY1, targetScale1;
                let targetX2, targetY2, targetScale2;
                const blobWidth = blob1.offsetWidth;
                const blobHeight = blob1.offsetHeight;

                // Priority: Card Hover > Orbiting > Wandering
                if (cardTarget && currentSectionIndex === 2) {
                    const cardRect = cardTarget.getBoundingClientRect();
                    const centerX = cardRect.left + cardRect.width / 2;
                    const centerY = cardRect.top + cardRect.height / 2;
                    
                    targetScale1 = 0.6; // A bit larger when centered
                    targetScale2 = 0.6;
                    
                    // Set target for both blobs to the center of the card
                    targetX1 = centerX - blobWidth / 2;
                    targetY1 = centerY - blobHeight / 2;
                    targetX2 = centerX - blobWidth / 2;
                    targetY2 = centerY - blobHeight / 2;

                } else if (isOrbiting && authorPhoto) {
                    const photoRect = authorPhoto.getBoundingClientRect();
                    const centerX = photoRect.left + photoRect.width / 2;
                    const centerY = photoRect.top + photoRect.height / 2;
                    const radius = photoRect.width * 0.6;
                    angle += 0.003; 
                    targetScale1 = 0.7;
                    targetScale2 = 0.7;
                    targetX1 = (centerX + radius * Math.cos(angle)) - blobWidth / 2;
                    targetY1 = (centerY + radius * Math.sin(angle)) - blobHeight / 2;
                    targetX2 = (centerX + radius * Math.cos(angle + Math.PI)) - blobWidth / 2;
                    targetY2 = (centerY + radius * Math.sin(angle + Math.PI)) - blobHeight / 2;
                } else {
                    wanderTime += 0.003;
                    const centerX = window.innerWidth / 2;
                    const centerY = window.innerHeight / 2;
                    const wanderRadiusX = Math.min(centerX, centerY) * 0.35;
                    const wanderRadiusY = Math.min(centerX, centerY) * 0.25;
                    targetX1 = centerX + wanderRadiusX * Math.cos(wanderTime) - blobWidth / 2;
                    targetY1 = centerY + wanderRadiusY * Math.sin(wanderTime * 1.5) - blobHeight / 2;
                    targetScale1 = 1.0;
                    const phaseOffset = 1.5;
                    targetX2 = centerX + wanderRadiusX * Math.cos(wanderTime - phaseOffset) - blobWidth / 2;
                    targetY2 = centerY + wanderRadiusY * Math.sin((wanderTime - phaseOffset) * 1.5) - blobHeight / 2;
                    targetScale2 = 1.0;
                }
                
                const smoothingFactor = 0.04; 
                blob1State.x += (targetX1 - blob1State.x) * smoothingFactor;
                blob1State.y += (targetY1 - blob1State.y) * smoothingFactor;
                blob1State.scale += (targetScale1 - blob1State.scale) * smoothingFactor;
                blob2State.x += (targetX2 - blob2State.x) * smoothingFactor;
                blob2State.y += (targetY2 - blob2State.y) * smoothingFactor;
                blob2State.scale += (targetScale2 - blob2State.scale) * smoothingFactor;
                
                blob1.style.transform = `translate(${blob1State.x}px, ${blob1State.y}px) scale(${blob1State.scale}) translateZ(0)`;
                blob2.style.transform = `translate(${blob2State.x}px, ${blob2State.y}px) scale(${blob2State.scale}) translateZ(0)`;
                requestAnimationFrame(animate);
            }

            window.addEventListener('scroll', handleScroll);
            handleScroll();
            animate();
        });
    </script>
</body>
</html>
